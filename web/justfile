set dotenv-load

# List available commands
default:
    just --list --unsorted

# Run in dev mode
run-dev: install-modules build-locales
    #!/bin/zsh

    export DAVS_SERVER_BASE_URL="http://host.docker.internal:8000"

    pnpm run dev

# Run app
run: build
    #!/bin/zsh

    export DAVS_SERVER_BASE_URL="http://host.docker.internal:8000"

    pnpm start

# Build app
build: install-modules build-locales
    pnpm build

# Test
test:
    pnpm run test

# Lint
lint:
    pnpm run lint

# Run quality checks
quality: lint typecheck

# Format code
format:
    pnpm run format

# Bootstrap project
bootstrap: install-modules build-locales

# Build locales
build-locales:
    pnpm run locales:build

# Validate types are correct
typecheck:
    pnpm run typecheck

[private]
install-modules:
    pnpm i
